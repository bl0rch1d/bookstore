%main.container.general-main-wrap
  .row.mb-20
    .col-sm-6
      .visible-xs
        %p.general-order-number.mb-0= t("order.order_number", number: @order.number)
        %p.general-address.mb-30= @order.completed_at
      %p.general-address
        = @order.shipping_address.decorate.full_name
        %br
        = @order.shipping_address.address
        %br
        = @order.shipping_address.decorate.city_zip
        %br
        = @order.shipping_address.country
        %br
        = t("order.phone", phone: @order.shipping_address.phone)
    
    .col-sm-6.hidden-xs.text-right
      %p.general-order-number.mb-0= t("order.order_number", number: @order.number)
      %p.general-address.mb-30= @order.completed_at

  %table.table.table-hover
    %tr.no-hover
      %th.col-pic.pl-0
        %span.in-grey-600= t("order_item.product")
      %th.col-title
      %th.col-price
        %span.in-grey-600= t("order_item.price")
      %th.col-quantity
        %span.in-grey-600= t("order_item.quantity")
      %th.col-total
        %span.in-grey-600= t("order_item.subtotal")
      %th.col-close
    
    .general-cart-item.divider-lg
      - @order.order_items.each do |item|
        %tr
          %td
            .general-img-wrap-table
              = image_tag(item.book.images.first.variant(resize: t('resize.small')), class: 'cart-img-shadow pull-left')
          
          %td
            %p.title= item.book.title
          
          %td
            %span.font-16.in-gold-500= number_to_currency(item.price, unit: t('currency.euro'))
          %td
            .input-group
              %input.form-control.quantity-input{type: "text", value: "#{item.quantity}", disabled: true}
          %td
            %span.font-16.in-gold-500= number_to_currency(item.subtotal, unit: t('currency.euro'))
  
  .text-center.general-text-right
    %p.in-gold-500.font-18= t("order_summary.summary")
    %table.general-summary-table.general-summary-table-right.general-text-right
      %tr
        %td
        %p.font-16= t("order_summary.item_total")
        %td
        %p.font-16= number_to_currency(@order.decorate.subtotal, unit: t('currency.euro'))
      
      %tr
        %td
        %p.font-16= t("order_summary.coupon")
        %td
        - if @order.coupon
          %p.font-16= number_to_currency(@order.coupon.calculate_in_fact_discount(@order.decorate.subtotal), unit: t('currency.euro'))
        - else
          %p.font-16= t("zero_price")
      
      %tr
        %td
        %p.font-16= t("order_summary.shipping")
        %td
        - if @order.shipping_method
          %p.font-16= number_to_currency(@order.shipping_method.price, unit: t('currency.euro'))
        - else
          %p.font-16= t("zero_price")
      
      %tr
        %td
        %strong.font-18= t("order_summary.order_total")
        %td
        %strong.font-18= number_to_currency(@order.decorate.total, unit: t('currency.euro'))